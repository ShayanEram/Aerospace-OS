cmake_minimum_required(VERSION 3.10)
project(Aerospace VERSION 1.0 LANGUAGES C)

set(CMAKE_C_STANDARD 11)
set(CMAKE_C_STANDARD_REQUIRED ON)
set(CMAKE_C_EXTENSIONS OFF)

set(CMAKE_EXPORT_COMPILE_COMMANDS ON)

# Source files
file(GLOB_RECURSE SRC_FILES
    ${CMAKE_SOURCE_DIR}/ARINC429/Src/*.c
    ${CMAKE_SOURCE_DIR}/ARINC653/Src/*.c
    ${CMAKE_SOURCE_DIR}/ARINC664/Src/*.c
    ${CMAKE_SOURCE_DIR}/MILSTD1553B/Src/*.c
    ${CMAKE_SOURCE_DIR}/Partitions/Src/*.c
    ${CMAKE_SOURCE_DIR}/Runner/*.c)

add_executable(${PROJECT_NAME} ${SRC_FILES})
target_include_directories(${PROJECT_NAME} PUBLIC
    ${CMAKE_SOURCE_DIR}/ARINC429/Inc
    ${CMAKE_SOURCE_DIR}/ARINC653/Inc
    ${CMAKE_SOURCE_DIR}/ARINC664/Inc
    ${CMAKE_SOURCE_DIR}/MILSTD1553B/Inc
    ${CMAKE_SOURCE_DIR}/Partitions/Inc
)